# Effective callbacks

Asynchronous functionality is something we'll be talking about later. That said,
sometimes our code will ask for information, and only gets it back later.

## Setup

1. Add a new test file in your `qa_playground`; mine is called
   `callback.test.ts`.
1. Copy this code into it:

   ```typescript
   /** gets a number between 1 and 10 for the callback
    * @callback numberHandler is passed the number generated
    */
   function getNumber(numberHandler) {
     numberHandler(Math.ceil(Math.random() * 10));
   }
   ```

   - getNumber will generate a random number between 1 and 10, and then

1. Then add in the test 'boilerplate' (`describe`, `it`, `test`, etc as needed)

## Defining a callback

A callback is a function you give to _another_ function. The first just needs to
know if the second is giving it any parameters.

If we know what a callback is given in terms of parameters, we can use them
intelligengly. In this case, we'll test `getNumber()` using a callback that
checks the the number is passes the callback as a parameter.

What follows here is the pattern of using a named function as a callback:

```typescript
// will pass a boolean to the callback
function actionA(callback) {
  callback(true);
}

// we write a function that accepts a boolean parameter
function actionB(result: boolean) {
  expect(result).toBeTruthy();
}

describe("actionA", () => {
  it("should be true", () => {
    // we call the first function, and pass it the second
    actionA(actionB); // BIG note: we don't use `()` on actionB, it will be called later
  });
});
```

You can also use an anonymous function as a callback:

```typescript
// will pass a boolean to the callback
function actionA(callback){
    callback(true)
}

describe("actionA", ()=>{
    it("should be true", ()=>{
    actionA((result)=>{
        expect(result).toBeTruthy()
    })
})
```

These two examples will give us exactly the same result.

**Your goal:** In your test file, use one or more callbacks to test the number
generated by `getNumber()`.

## Stretch Goals

Do something else with the number:

- Make a callback to print one of 10 different strings based on the value.
- Create a callback that takes ANOTHER callback!

## Solution

See the `2.03` branch of the `qa_playground` repository for our solutions.
